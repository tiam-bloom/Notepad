(function(t){function o(o){for(var n,d,i=o[0],l=o[1],a=o[2],c=0,f=[];c<i.length;c++)d=i[c],Object.prototype.hasOwnProperty.call(s,d)&&s[d]&&f.push(s[d][0]),s[d]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(o);while(f.length)f.shift()();return r.push.apply(r,a||[]),e()}function e(){for(var t,o=0;o<r.length;o++){for(var e=r[o],n=!0,i=1;i<e.length;i++){var l=e[i];0!==s[l]&&(n=!1)}n&&(r.splice(o--,1),t=d(d.s=e[0]))}return t}var n={},s={app:0},r=[];function d(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,d),e.l=!0,e.exports}d.m=t,d.c=n,d.d=function(t,o,e){d.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},d.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,o){if(1&o&&(t=d(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(d.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)d.d(e,n,function(o){return t[o]}.bind(null,n));return e},d.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(o,"a",o),o},d.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},d.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=o,i=i.slice();for(var a=0;a<i.length;a++)o(i[a]);var u=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"0611":function(t,o,e){},"14af":function(t,o,e){"use strict";e("e888")},"36f6":function(t,o,e){"use strict";e("0611")},"56d7":function(t,o,e){"use strict";e.r(o);var n=e("2b0e"),s=function(){var t=this,o=t._self._c;return o("div",{staticClass:"app"},[o("TodoHeader"),o("Todos",{attrs:{todos:t.todos}}),o("TodoFooter",{attrs:{todos:t.todos}})],1)},r=[],d=(e("3c65"),function(){var t=this,o=t._self._c;return o("div",{staticClass:"todo-header"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入待办事项"},domProps:{value:t.text},on:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.addTodo.apply(null,arguments)},input:function(o){o.target.composing||(t.text=o.target.value.trim())},blur:function(o){return t.$forceUpdate()}}})])}),i=[],l={name:"TodoHeader",data(){return{text:""}},methods:{addTodo(){if(""===this.text)return void alert("请先输入内容哦!");const t={id:Date.now(),text:this.text,done:!1};this.$bus.$emit("addTodo",t),this.text=""}}},a=l,u=(e("f93b"),e("2877")),c=Object(u["a"])(a,d,i,!1,null,"cff36b9e",null),f=c.exports,p=function(){var t=this,o=t._self._c;return o("div",t._l(t.todos,(function(t){return o("Todo",{key:t.id,attrs:{todo:t}})})),1)},h=[],b=function(){var t=this,o=t._self._c;return o("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__bounceIn","leave-active-class":"animate__bounceOut",appear:""}},[o("div",{staticClass:"todo",on:{click:function(o){return t.check(t.todo.id)}}},[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.todo.done}}),o("span",[t._v(t._s(t.todo.text))]),o("button",{on:{click:function(o){return o.stopPropagation(),t.delTodo(t.todo.id)}}},[t._v("删除")])])])},m=[],v=(e("77ed"),{name:"Todo",props:["todo"],methods:{check(t){this.upTodo(t)},delTodo(t){confirm("确认删除吗?")&&this.$bus.$emit("delTodo",t)},upTodo(t){this.$bus.$emit("upTodo",t)}}}),T=v,y=(e("14af"),Object(u["a"])(T,b,m,!1,null,"0427d28a",null)),_=y.exports,x={name:"Todos",components:{Todo:_},props:["todos"]},w=x,$=(e("36f6"),Object(u["a"])(w,p,h,!1,null,"62ebf94a",null)),g=$.exports,A=function(){var t=this,o=t._self._c;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.totalTodos,expression:"totalTodos"}],staticClass:"todo-footer"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.isAll,expression:"isAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isAll)?t._i(t.isAll,null)>-1:t.isAll},on:{change:function(o){var e=t.isAll,n=o.target,s=!!n.checked;if(Array.isArray(e)){var r=null,d=t._i(e,r);n.checked?d<0&&(t.isAll=e.concat([r])):d>-1&&(t.isAll=e.slice(0,d).concat(e.slice(d+1)))}else t.isAll=s}}}),t._v(" 已完成"+t._s(t.doneTotal)+" / 全部"+t._s(t.totalTodos)+" "),o("button",{on:{click:t.delAll}},[t._v("删除全部已完成")])])},O=[],k=(e("13d5"),{name:"TodoFooter",props:["todos"],computed:{totalTodos(){return this.todos.length},doneTotal(){return this.todos.reduce((t,o)=>t+(o.done?1:0),0)},isAll:{get(){return this.totalTodos===this.doneTotal},set(t){this.todos.forEach(o=>o.done=t)}}},methods:{delAll(){confirm("确定删除全部已完成吗？")&&this.$bus.$emit("delAllDone")}}}),j=k,P=(e("6152"),Object(u["a"])(j,A,O,!1,null,"47cb921d",null)),S=P.exports,D={name:"App",data(){return{todos:JSON.parse(window.localStorage.getItem("todos"))}},methods:{addTodo(t){this.todos.unshift(t)},delTodo(t){this.todos=this.todos.filter(o=>o.id!==t)},upTodo(t){this.todos.forEach(o=>{o.id===t&&(o.done=!o.done)})},delAllDone(){this.todos=this.todos.filter(t=>!t.done)}},components:{TodoHeader:f,Todos:g,TodoFooter:S},watch:{todos:{deep:!0,handler(t){window.localStorage.setItem("todos",JSON.stringify(t)),this.todos=t}}},beforeCreate(){if(Object.prototype.hasOwnProperty.call(window.localStorage,"todos"))return;const t=[{id:"001",text:"输入后回车添加待办事项",done:!0},{id:"002",text:"By Tiam",done:!1},{id:"003",text:"Date:【2022-11-30 16:43:13 星期三】",done:!1}];window.localStorage.setItem("todos",JSON.stringify(t))},mounted(){this.$bus.$on("addTodo",this.addTodo),this.$bus.$on("delTodo",this.delTodo),this.$bus.$on("upTodo",this.upTodo),this.$bus.$on("delAllDone",this.delAllDone)},beforeDestroy(){this.$bus.$off("addTodo",this.addTodo),this.$bus.$off("delTodo",this.delTodo),this.$bus.$off("upTodo",this.upTodo),this.$bus.$off("delAllDone",this.delAllDone)}},C=D,N=(e("c29d"),Object(u["a"])(C,s,r,!1,null,null,null)),J=N.exports;new n["a"]({render:t=>t(J),beforeCreate(){n["a"].prototype.$bus=this}}).$mount("#app")},6152:function(t,o,e){"use strict";e("ee09")},"717c":function(t,o,e){},c29d:function(t,o,e){"use strict";e("cad9")},cad9:function(t,o,e){},e888:function(t,o,e){},ee09:function(t,o,e){},f93b:function(t,o,e){"use strict";e("717c")}});
//# sourceMappingURL=app.ae788279.js.map