(function(o){function t(t){for(var n,d,i=t[0],l=t[1],a=t[2],c=0,f=[];c<i.length;c++)d=i[c],Object.prototype.hasOwnProperty.call(s,d)&&s[d]&&f.push(s[d][0]),s[d]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(o[n]=l[n]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,a||[]),e()}function e(){for(var o,t=0;t<r.length;t++){for(var e=r[t],n=!0,i=1;i<e.length;i++){var l=e[i];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),o=d(d.s=e[0]))}return o}var n={},s={app:0},r=[];function d(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,d),e.l=!0,e.exports}d.m=o,d.c=n,d.d=function(o,t,e){d.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:e})},d.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},d.t=function(o,t){if(1&t&&(o=d(o)),8&t)return o;if(4&t&&"object"===typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(d.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var n in o)d.d(e,n,function(t){return o[t]}.bind(null,n));return e},d.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return d.d(t,"a",t),t},d.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},d.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var a=0;a<i.length;a++)t(i[a]);var u=l;r.push([0,"chunk-vendors"]),e()})({0:function(o,t,e){o.exports=e("56d7")},4929:function(o,t,e){"use strict";e("db7a")},"56d7":function(o,t,e){"use strict";e.r(t);var n=e("2b0e"),s=function(){var o=this,t=o._self._c;return t("div",{staticClass:"app"},[t("TodoHeader"),t("Todos",{attrs:{todos:o.todos}}),t("TodoFooter",{attrs:{todos:o.todos}})],1)},r=[],d=(e("3c65"),function(){var o=this,t=o._self._c;return t("div",{staticClass:"todo-header"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:o.text,expression:"text",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入待办事项"},domProps:{value:o.text},on:{keyup:function(t){return!t.type.indexOf("key")&&o._k(t.keyCode,"enter",13,t.key,"Enter")?null:o.addTodo.apply(null,arguments)},input:function(t){t.target.composing||(o.text=t.target.value.trim())},blur:function(t){return o.$forceUpdate()}}})])}),i=[],l={name:"TodoHeader",data(){return{text:""}},methods:{addTodo(){if(""===this.text)return void alert("请先输入内容哦!");const o={id:Date.now(),text:this.text,done:!1};this.$bus.$emit("addTodo",o),this.text=""}}},a=l,u=(e("f93b"),e("2877")),c=Object(u["a"])(a,d,i,!1,null,"cff36b9e",null),f=c.exports,p=function(){var o=this,t=o._self._c;return t("div",o._l(o.todos,(function(o,e){return t("Todo",{key:e,attrs:{todo:o}})})),1)},h=[],b=function(){var o=this,t=o._self._c;return t("div",{staticClass:"todo",on:{click:function(t){return o.check(o.todo.id)}}},[t("input",{attrs:{type:"checkbox"},domProps:{checked:o.todo.done}}),o._v(" "),t("span",[o._v(o._s(o.todo.text))]),t("button",{on:{click:function(t){return t.stopPropagation(),o.delTodo(o.todo.id)}}},[o._v("删除")])])},m=[],T={name:"Todo",props:["todo"],methods:{check(o){this.upTodo(o)},delTodo(o){confirm("确认删除吗?")&&this.$bus.$emit("delTodo",o)},upTodo(o){this.$bus.$emit("upTodo",o)}}},v=T,y=(e("5d8e"),Object(u["a"])(v,b,m,!1,null,"ba0446e2",null)),x=y.exports,_={name:"Todos",components:{Todo:x},props:["todos"]},w=_,$=(e("847f"),Object(u["a"])(w,p,h,!1,null,"3cb3ce68",null)),g=$.exports,A=function(){var o=this,t=o._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:o.totalTodos,expression:"totalTodos"}],staticClass:"todo-footer"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.isAll,expression:"isAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.isAll)?o._i(o.isAll,null)>-1:o.isAll},on:{change:function(t){var e=o.isAll,n=t.target,s=!!n.checked;if(Array.isArray(e)){var r=null,d=o._i(e,r);n.checked?d<0&&(o.isAll=e.concat([r])):d>-1&&(o.isAll=e.slice(0,d).concat(e.slice(d+1)))}else o.isAll=s}}}),o._v(" 已完成"+o._s(o.doneTotal)+" / 全部"+o._s(o.totalTodos)+" "),t("button",{on:{click:o.delAll}},[o._v("删除全部已完成")])])},O=[],k=(e("13d5"),{name:"TodoFooter",props:["todos"],computed:{totalTodos(){return this.todos.length},doneTotal(){return this.todos.reduce((o,t)=>o+(t.done?1:0),0)},isAll:{get(){return this.totalTodos===this.doneTotal},set(o){this.todos.forEach(t=>t.done=o)}}},methods:{delAll(){this.$bus.$emit("delAllDone")}}}),j=k,P=(e("4929"),Object(u["a"])(j,A,O,!1,null,"1ba724b8",null)),S=P.exports,D={name:"App",data(){return{todos:JSON.parse(window.localStorage.getItem("todos"))}},methods:{addTodo(o){this.todos.unshift(o)},delTodo(o){this.todos=this.todos.filter(t=>t.id!==o)},upTodo(o){this.todos.forEach(t=>{t.id===o&&(t.done=!t.done)})},delAllDone(){this.todos=this.todos.filter(o=>!o.done)}},components:{TodoHeader:f,Todos:g,TodoFooter:S},watch:{todos:{deep:!0,handler(o){window.localStorage.setItem("todos",JSON.stringify(o)),this.todos=o}}},beforeCreate(){if(Object.prototype.hasOwnProperty.call(window.localStorage,"todos"))return;const o=[{id:"001",text:"输入后回车添加待办事项",done:!0},{id:"002",text:"By Tiam",done:!1},{id:"003",text:"Date:【2022-11-30 16:43:13 星期三】",done:!1}];window.localStorage.setItem("todos",JSON.stringify(o))},mounted(){this.$bus.$on("addTodo",this.addTodo),this.$bus.$on("delTodo",this.delTodo),this.$bus.$on("upTodo",this.upTodo),this.$bus.$on("delAllDone",this.delAllDone)},beforeDestroy(){this.$bus.$off("addTodo",this.addTodo),this.$bus.$off("delTodo",this.delTodo),this.$bus.$off("upTodo",this.upTodo),this.$bus.$off("delAllDone",this.delAllDone)}},C=D,N=(e("6d7c"),Object(u["a"])(C,s,r,!1,null,null,null)),J=N.exports;new n["a"]({render:o=>o(J),beforeCreate(){n["a"].prototype.$bus=this}}).$mount("#app")},"5d8e":function(o,t,e){"use strict";e("9930")},"6d7c":function(o,t,e){"use strict";e("cee1")},"717c":function(o,t,e){},"847f":function(o,t,e){"use strict";e("afd1")},9930:function(o,t,e){},afd1:function(o,t,e){},cee1:function(o,t,e){},db7a:function(o,t,e){},f93b:function(o,t,e){"use strict";e("717c")}});
//# sourceMappingURL=app.c0dcdfca.js.map